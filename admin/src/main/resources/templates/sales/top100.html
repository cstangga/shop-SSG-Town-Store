<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/default}">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Riho admin is super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords"
          content="admin template, Riho admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="../assets/images/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="../assets/images/favicon.png" type="image/x-icon">
    <title>매출관리</title>
    <!-- Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800&amp;display=swap"
          rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../assets/css/font-awesome.css">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/icofont.css">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/themify.css">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/flag-icon.css">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/feather-icon.css">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/slick.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/slick-theme.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/scrollbar.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/animate.css">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/bootstrap.css">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/style.css">
    <link id="color" rel="stylesheet" href="../assets/css/color-1.css" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="../assets/css/responsive.css">
</head>
<body>
<!-- loader starts-->
<div class="loader-wrapper">
    <div class="loader">
        <div class="loader4"></div>
    </div>
</div>

<!-- Page Sidebar Ends-->
<div layout:fragment="main" class="page-body">
    <div class="container-fluid">
        <div class="page-title">
            <div class="row">
                <div class="col-6">
                    <h4></h4>
                </div>
                <div class="col-6">
                </div>
            </div>
        </div>
    </div>
    <!-- Container-fluid starts-->
    <div class="container-fluid">
        <div class="row">
            <div class="col-xl-6 col-md-12 box-col-12">
                <div class="card">
                    <div class="card-header">
                        <h4>총매출 Top 7</h4>
                    </div>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>상품명</th>
                            <th>총매출 (₩)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${resultData}" class="my">
                            <td th:text="${item.itemName}">Item Name</td>
                            <td th:text="${item.totalSales}">Total Sales</td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="card-body chart-block">
                        <script th:inline="javascript">
                            document.addEventListener("DOMContentLoaded", function () {
                                /*<![CDATA[*/
                                var resultData = /*[[${resultData}]]*/ [];
                                // resultData = JSON.parse(resultData);
                                console.log("@@@@@@@@@@@@@@@ : ", resultData);
                                // labels와 data 배열 생성

                                var labels = [];
                                var data = [];

                                resultData.forEach(function (item) {
                                    // console.log("@@@@@@@@@@@@@@@ : ", item);
                                    labels.push(item.itemName);
                                    data.push(item.totalSales);
                                });

                                console.log("label : ", labels);
                                console.log("data : ", data);
                                var barCtx1 = document.getElementById("myBarGraph1").getContext("2d");

                                var barData1 = {
                                    labels: labels,
                                    datasets: [
                                        {
                                            label: "총매출",
                                            backgroundColor: "rgba(0, 102, 102, 0.2)",
                                            borderColor: "rgba(0, 102, 102, 1)",
                                            borderWidth: 1,
                                            data: data,
                                        }
                                    ]
                                };

                                var barOptions1 = {
                                    scales: {
                                        y: {
                                            beginAtZero: true
                                        }
                                    }
                                };

                                var myBarChart1 = new Chart(barCtx1).Bar(barData1, barOptions1);
                            });
                        </script>
                        <canvas id="myBarGraph1"></canvas>
                    </div>
                </div>
                <style>
                    .chart-container {
                        display: inline-block;
                        width: 48%;
                        vertical-align: top;
                        margin: 1%;
                    }

                    .card-header {
                        text-align: center;
                    }
                </style>
                <!-- 에스파 막대그래프-->
                <!--                                <div class="card">-->
                <!--                                    <div class="card-header">-->
                <!--                                        <h4>에스파 매출 Top 7</h4>-->
                <!--                                    </div>-->
                <!--                                    <table class="table">-->
                <!--                                        <thead>-->
                <!--                                        <tr>-->
                <!--                                            <th>상품명</th>-->
                <!--                                            <th>총매출   (₩)</th>-->
                <!--                                        </tr>-->
                <!--                                        </thead>-->
                <!--                                        <tbody>-->
                <!--                                        <tr th:each="item : ${resultAespaData}" class="my">-->
                <!--                                            <td th:text="${item.itemName}">Item Name</td>-->
                <!--                                            <td th:text="${item.totalSales}">Total Sales</td>-->
                <!--                                        </tr>-->
                <!--                                        </tbody>-->
                <!--                                    </table>-->
                <!--                                    <div class="card-body chart-block">-->
                <!--                                        <script th:inline="javascript">-->
                <!--                                            document.addEventListener("DOMContentLoaded", function() {-->
                <!--                                                /*<![CDATA[*/-->
                <!--                                                var resultAespaData = /*[[${resultAespaData}]]*/ [];-->
                <!--                                                // resultData = JSON.parse(resultData);-->
                <!--                                                console.log("@@@@@@@@@@@@@@@ : ", resultAespaData);-->
                <!--                                                // labels와 data 배열 생성-->

                <!--                                                var labels = [];-->
                <!--                                                var data = [];-->

                <!--                                                resultAespaData.forEach(function(item) {-->
                <!--                                                    // console.log("@@@@@@@@@@@@@@@ : ", item);-->
                <!--                                                    labels.push(item.itemName);-->
                <!--                                                    data.push(item.totalSales);-->
                <!--                                                });-->

                <!--                                                console.log("label : ",labels);-->
                <!--                                                console.log("data : ",data);-->
                <!--                                                var barCtx2 = document.getElementById("myBarGraph2").getContext("2d");-->

                <!--                                                var barData2 = {-->
                <!--                                                    labels: labels,-->
                <!--                                                    datasets: [-->
                <!--                                                        {-->
                <!--                                                            label: "총매출",-->
                <!--                                                            backgroundColor: "rgba(0, 102, 102, 0.2)",-->
                <!--                                                            borderColor: "rgba(0, 102, 102, 1)",-->
                <!--                                                            borderWidth: 1,-->
                <!--                                                            data: data,-->
                <!--                                                        }-->
                <!--                                                    ]-->
                <!--                                                };-->

                <!--                                                var barOptions2 = {-->
                <!--                                                    scales: {-->
                <!--                                                        y: {-->
                <!--                                                            beginAtZero: true-->
                <!--                                                        }-->
                <!--                                                    }-->
                <!--                                                };-->

                <!--                                                var myBarChart2 = new Chart(barCtx2).Bar(barData2, barOptions2);-->
                <!--                                            });-->
                <!--                                        </script>-->

                <!--                                        <canvas id="myBarGraph2"> </canvas>-->
                <!--                                    </div>-->
                <!--                                </div>-->
                <!--                            </div>-->
                <!-- 에스파 막대 그래프 끝 -->
                <!--에스파 도넛 그래프 -->
                <div class="card">
                    <div class="card-header">
                        <h4>에스파 매출 Top 7</h4>
                    </div>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>상품명</th>
                            <th>총매출 (₩)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${resultAespaData}" class="my">
                            <td th:text="${item.itemName}">Item Name</td>
                            <td th:text="${item.totalSales}">Total Sales</td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="card-body chart-block">
                        <script th:inline="javascript">
                            document.addEventListener("DOMContentLoaded", function () {
                                /*<![CDATA[*/
                                var resultAespaData = /*[[${resultAespaData}]]*/ [];
                                // resultData = JSON.parse(resultData);
                                console.log("@@@@@@@@@@@@@@@ : ", resultAespaData);
                                // labels와 data 배열 생성

                                var labels = [];
                                var data = [];

                                resultAespaData.forEach(function (item) {
                                    // console.log("@@@@@@@@@@@@@@@ : ", item);
                                    labels.push(item.itemName);
                                    data.push(item.totalSales);
                                });

                                var doughnutData1 = [
                                    {
                                        value: data[0],
                                        color: RihoAdminConfig.primary,
                                        highlight: RihoAdminConfig.primary,
                                        label: labels[0],
                                    },
                                    {
                                        value: data[1],
                                        color: RihoAdminConfig.secondary,
                                        highlight: RihoAdminConfig.secondary,
                                        label: labels[1],
                                    },
                                    {
                                        value: data[2],
                                        color: "#51bb25",
                                        highlight: "#51bb25",
                                        label: labels[2],
                                    },
                                    {
                                        value: data[3],
                                        color: "#FE6A49",
                                        highlight: "#FE6A49",
                                        label: labels[3],
                                    },
                                    {
                                        value: data[4],
                                        color: "#33FF57",
                                        highlight: "#33FF57",
                                        label: labels[4],
                                    },
                                    {
                                        value: data[5],
                                        color: "#FF33A1",
                                        highlight: "#FF33A1",
                                        label: labels[5],
                                    },
                                    {
                                        value: data[6],
                                        color: "#FF3333",
                                        highlight: "#FF3333",
                                        label: labels[6],
                                    },
                                ];
                                var doughnutOptions1 = {
                                    segmentShowStroke: true,
                                    segmentStrokeColor: "#fff",
                                    segmentStrokeWidth: 2,
                                    percentageInnerCutout: 50,
                                    animationSteps: 100,
                                    animationEasing: "easeOutBounce",
                                    animateRotate: true,
                                    animateScale: false,
                                    legendTemplate:
                                        '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>',
                                };
                                var doughnutCtx1 = document.getElementById("myDoughnutGraph1").getContext("2d");
                                var myDoughnutChart1 = new Chart(doughnutCtx1).Doughnut(doughnutData1, doughnutOptions1);
                            });
                        </script>

                        <canvas id="myDoughnutGraph1"></canvas>
                    </div>
                </div>
                <!--샤이니 도넛그래프 -->
                <div class="card">
                    <div class="card-header">
                        <h4>샤이니 매출 Top 7</h4>
                    </div>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>상품명</th>
                            <th>총매출 (₩)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${resultShineeData}" class="my">
                            <td th:text="${item.itemName}">Item Name</td>
                            <td th:text="${item.totalSales}">Total Sales</td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="card-body chart-block">
                        <script th:inline="javascript">
                            document.addEventListener("DOMContentLoaded", function () {
                                /*<![CDATA[*/
                                var resultShineeData = /*[[${resultShineeData}]]*/ [];
                                // resultData = JSON.parse(resultData);
                                console.log("@@@@@@@@@@@@@@@ : ", resultShineeData);
                                // labels와 data 배열 생성

                                var labels = [];
                                var data = [];

                                resultShineeData.forEach(function (item) {
                                    // console.log("@@@@@@@@@@@@@@@ : ", item);
                                    labels.push(item.itemName);
                                    data.push(item.totalSales);
                                });

                                var doughnutData = [
                                    {
                                        value: data[0],
                                        color: RihoAdminConfig.primary,
                                        highlight: RihoAdminConfig.primary,
                                        label: labels[0],
                                    },
                                    {
                                        value: data[1],
                                        color: RihoAdminConfig.secondary,
                                        highlight: RihoAdminConfig.secondary,
                                        label: labels[1],
                                    },
                                    {
                                        value: data[2],
                                        color: "#51bb25",
                                        highlight: "#51bb25",
                                        label: labels[2],
                                    },
                                    {
                                        value: data[3],
                                        color: "#FE6A49",
                                        highlight: "#FE6A49",
                                        label: labels[3],
                                    },
                                    {
                                        value: data[4],
                                        color: "#33FF57",
                                        highlight: "#33FF57",
                                        label: labels[4],
                                    },
                                    {
                                        value: data[5],
                                        color: "#FF33A1",
                                        highlight: "#FF33A1",
                                        label: labels[5],
                                    },
                                ];
                                var doughnutOptions = {
                                    segmentShowStroke: true,
                                    segmentStrokeColor: "#fff",
                                    segmentStrokeWidth: 2,
                                    percentageInnerCutout: 50,
                                    animationSteps: 100,
                                    animationEasing: "easeOutBounce",
                                    animateRotate: true,
                                    animateScale: false,
                                    legendTemplate:
                                        '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>',
                                };
                                var doughnutCtx = document.getElementById("myDoughnutGraph").getContext("2d");
                                var myDoughnutChart = new Chart(doughnutCtx).Doughnut(doughnutData, doughnutOptions);
                            });
                        </script>

                        <canvas id="myDoughnutGraph"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- chart 그리기 마지막줄 -->
    <!-- latest jquery-->
    <script src="../assets/js/jquery.min.js"></script>
    <!-- Bootstrap js-->
    <script src="../assets/js/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- feather icon js-->
    <script src="../assets/js/icons/feather-icon/feather.min.js"></script>
    <script src="../assets/js/icons/feather-icon/feather-icon.js"></script>
    <!-- scrollbar js-->
    <script src="../assets/js/scrollbar/simplebar.js"></script>
    <script src="../assets/js/scrollbar/custom.js"></script>
    <!-- Sidebar jquery-->
    <script src="../assets/js/config.js"></script>
    <!-- Plugins JS start-->
    <script src="../assets/js/sidebar-menu.js"></script>
    <script src="../assets/js/sidebar-pin.js"></script>
    <script src="../assets/js/slick/slick.min.js"></script>
    <script src="../assets/js/slick/slick.js"></script>
    <script src="../assets/js/header-slick.js"></script>
    <script src="../assets/js/chart/chartjs/chart.min.js"></script>

    <script src="../assets/js/chart/chartjs/chart.custom.js"></script>
    <!-- calendar js-->
    <!-- Plugins JS Ends-->
    <!-- Theme js-->
    <script src="../assets/js/script.js"></script>
</div>
</body>
</html>